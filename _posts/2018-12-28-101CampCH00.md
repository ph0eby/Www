---
layout: post
title: 蟒营ch00折腾记录
date: 2018-12-28
categories: blog
tags: 蟒营,python,ch00,环境,折腾
description: 蟒营ch00环境折腾记录。
---

> 参加大妈的 py 课程，压力还是蛮大的。因为我基本属于小白级别的。git 不大懂、命令行不大懂、python 一点点。然而

##  本节要求

```
## 目标
> 完成蠎营在线课程环境的进入

### 权限
课程绕圈三个渠道进行 -> [infocycle](https://gitlab.com/101camp/py/wikis/home#infocycle),

所以,要求及时完成以下权限的确认:

- 可以看到当前 Issue , 说明 课程主仓库 [py](https://gitlab.com/101camp/py) 基本权限激活
    + 可以回复当前 Issue , 说明 提案权限 完成激活
    + 可以在 [playground](https://gitlab.com/101camp/playground) 创建文件
        * 说明所有仓库访问权限激活
- 可以登录 101camp.slack.com , 并发言, 说明 Slack 频道权限激活
- 可以收到来自 `101camp@googlegroups.com` 的邮件, 说明 邮件列表(mailling-list) 订阅成功
    + 注意, 邮件每天发送一次
        * 也可以自行尝试用报名登记邮箱向 `101camp@googlegroups.com` 发送邮件
        * 成功, 也说明订阅成功
    + 另外, 随着仓库活动增加, 每天将有若干自动提醒邮件发送

请进入仓库的学员, 回复 Issue:

- 逐一明确以上操作是否都通过
- 并以合理的格式, 记述在回复中

### 开发

- 自行寻定一种 git 工具, 成功 clone 关键仓库到本地:
    + 课程主仓库 [py](https://gitlab.com/101camp/py)
    + 游乐场(实验仓库) [playground](https://gitlab.com/101camp/playground)
- 并根据接引邮件中的提示:
    + 将对应的学员 orphan 分支, 独立 clone 到本地
        * 比如: [zq · 101Camp / py · GitLab](https://gitlab.com/101camp/py/tree/zq)
    + 并确实可以通过 git 远程读写/追加/删除分支中的文件

```

上述`要求`解释成小白可以理解的话就是：

A.1 Gitlab主仓库：能打开这个[issue链接](https://gitlab.com/101camp/py/issues/1)，说明你课程主仓库 py 的基本权限激活了。

A.2 Gitlab辅仓库：可以打开 [playground](https://gitlab.com/101camp/playground) 仓库，并且可以在里面添加文件，说明你所有访问权限激活了。这个仓库是给大家折腾的，在没有完全掌握好 gitlab 的相关知识之前，在这个仓库折腾比较安全。

A.3 Slack：课程使用 Slack 作为异步沟通的 IM 工具。所以，如果登陆 [slack地址](101camp.slack.com) , 并能够发言, 说明 Slack的 频道权限激活了。

A.4 谷歌邮件列表：如果能收到来自 `101camp@googlegroups.com` 的邮件, 说明 邮件列表(mailling-list) 订阅成功了。邮件列表主要是用来做沉淀和检索用的--我的理解。



上面是基本的沟通配置，下面是最重要的`环境配置`:

B.1 自己找一种 git 工具，可成功把关键仓库克隆到本地：

​    B.1.1 克隆课程主仓库[py](https://gitlab.com/101camp/py)

​    B.1.2  克隆游乐场(实验仓库)[playground](https://gitlab.com/101camp/playground)

B.2 将自己的孤子分支独立克隆到本地，并且可以通过 git 远程进行操作：

​    B.2.1 将自己级的孤立子分支克隆到本地。我的就是 [XiaoYanWork · 101Camp / py · GitLab](https://gitlab.com/101camp/py/tree/XiaoYanWork)

​    B.2.2 可以通过 git 进行远程的读写、追加、删除这个仓库里的文件。

## 我的计算机硬件配置

MacOS Mojave 10.14.2 (18C54)

MacBook Pro (Retina, 13-inch, Early 2015)

Python：Py2.7和 Py3.6，看起来是机器自带的（此处略过我卸载 Anaconda 的大坑，有兴趣可以点这里）。

```
Last login: Fri Dec 28 14:32:38 on ttys000
xiaoyanMacBook-Pro:~ yyy$ which python
/Library/Frameworks/Python.framework/Versions/2.7/bin/python
xiaoyanMacBook-Pro:~ yyy$ which python3
/Library/Frameworks/Python.framework/Versions/3.6/bin/python3
xiaoyanMacBook-Pro:~ yyy$ 
```




## 已经折腾过的

> 下面这些是我在主仓库 issue 里回复的内容，主要是卡在了“环境配置”这里了

```
## 目标
> 完成蠎营在线课程环境的进入

### 权限确认
课程绕圈三个渠道进行 -> [infocycle](https://gitlab.com/101camp/py/wikis/home#infocycle),


- [x] 可以看到当前 Issue , 说明 课程主仓库 [py](https://gitlab.com/101camp/py) 基本权限激活
    + [x] 可以回复当前 Issue , 说明 提案权限 完成激活
    + [x] 可以在 [playground](https://gitlab.com/101camp/playground) 创建文件
        * 说明所有仓库访问权限激活
- [x] 可以登录 101camp.slack.com , 并发言, 说明 Slack 频道权限激活
- [x] 可以收到来自 `101camp@googlegroups.com` 的邮件, 说明 邮件列表(mailling-list) 订阅成功
    + 注意, 邮件每天发送一次
        * 也可以自行尝试用报名登记邮箱向 `101camp@googlegroups.com` 发送邮件
        * 成功, 也说明订阅成功
    + 另外, 随着仓库活动增加, 每天将有若干自动提醒邮件发送

请进入仓库的学员, 回复 Issue:

- [x] 逐一明确以上操作是否都通过
- [x] 并以合理的格式, 记述在回复中

### 开发(探索中……)

- [ ] 自行寻定一种 git 工具, 成功 clone 关键仓库到本地:
    + [x] 完成新建 SSH 密钥，[参考资料](https://docs.gitlab.com/ee/ssh/README.html)
    + [x] 学会简单 Git 命令，[参考资料](https://gitlab.com/help/gitlab-basics/README.md)
    + [x] clone Playground库到本地，[参考资料](https://gitlab.com/help/gitlab-basics/README.md)
    + [ ] 在命令行上开始使用 git ，[参考资料](https://gitlab.com/help/gitlab-basics/start-using-git.md)

    + 课程主仓库 [py](https://gitlab.com/101camp/py)
        * [x] 用 mac 终端 git 命令 clone 到本地电脑
        * [ ] 用 浏览器在云端操作文件。
            * [x] 增加1个文件，并申请合并到库，被通知，暂时不要进行这样的操作。
        * [ ] 用 mac 终端 git 命令 推送到云端
    + 游乐场(实验仓库) [playground](https://gitlab.com/101camp/playground)
        * [x] 用 mac 终端 git 命令 clone 到本地电脑
        * [ ] 用 浏览器在云端操作文件。
            * [ ] 增加1个文件，并申请合并到库。
        * [ ] 用 mac 终端 git 命令 推送到云端



    + 参考资料：
        * https://docs.gitlab.com/ee/ssh/README.html
        * https://gitlab.com/help/gitlab-basics/README.md


- [ ] 并根据接引邮件中的提示:
    + 将对应的学员 orphan 分支, 独立 clone 到本地
        * [ ] 比如: [zq · 101Camp / py · GitLab](https://gitlab.com/101camp/py/tree/XiaoYanWork)
> 注：这里是说了孤独子分支的事，但是没有明确的命令写“用啥样的命令”把云端已经被建立起来的孤独自分支 copy 到本地。我是看了hzym 的命令才了解的——用命令行`xiaoyanMBP:branches yyy$ git clone -b XiaoYanWork git@gitlab.com:101camp/py.git`才能将云端的这个库克隆到本地的某个目录下。
    + 并确实可以通过 git 远程读写/追加/删除分支中的文件



## 下面是关于系统环境的折腾

### 本机有几个 Gitname?


权限测试--本机器原来有 Gitname 和 email 分别是 小焱 和94061190@qq.com，这可能是 GitHub desktop创建的，我这次是不是为了 gitlab 要重新修改呢？？报错了~
参考地址：https://gitlab.com/help/gitlab-basics/start-using-git.md


>  xiaoyanMBP:playground yyy$ git --version

git version 2.18.0

xiaoyanMBP:playground yyy$ git config --global --list

user.name=小焱

user.email=94061190@qq.com

filter.lfs.required=true

filter.lfs.clean=git-lfs clean -- %f

filter.lfs.smudge=git-lfs smudge -- %f

filter.lfs.process=git-lfs filter-process

xiaoyanMBP:playground yyy$ git config --global user.name

小焱

xiaoyanMBP:playground yyy$ git config --global user.name XiaoYanWork

xiaoyanMBP:playground yyy$ git config --global user.name

XiaoYanWork

xiaoyanMBP:playground yyy$ git config --global iyuxiaoyan@gmail.com

error: invalid key: iyuxiaoyan@gmail.com

xiaoyanMBP:playground yyy$ git config iyuxiaoyan@gmail.com

error: invalid key: iyuxiaoyan@gmail.com

xiaoyanMBP:playground yyy$


![image](/uploads/74ae0333128134f68ae217cc5b1e64a5/image.png)
验证了一下，果然是把 Githubdestktop里的用户名给改了，然而，这种冲突，怎么解决呢？

---

> 为了不占过多篇幅，以后折腾的过程，请见我的:

 孤独子分支-也就是[这里](https://gitlab.com/101camp/py/blob/XiaoYanWork/ch00-EnvTry.md)

然而，https://gitlab.com/101camp/py/blob/XiaoYanWork 貌似不是一个真正的孤独子分支，貌似不能像其他仓库那样 clone 到本地，只能使用类似于 zip 压缩包的形式下载到本地，然后解压缩。然而，这到底是怎么回事呢？
参考了@hzym 的代码，我把我的孤独子分支单独放在 branchs 文件夹下了。
![image](/uploads/cae89df64cbf610fae450f3292fd26f9/image.png)

#### 试图查查自己的孤独子分支是不是真正的孤独子分支，命令错误。
xiaoyanMBP:branches yyy$ git status
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout --orphan py
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout --orphan py.git
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout --orphan hzym
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout --orphan XiaoYanWork
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout --orphan git@gitlab.com:101camp/py.git
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ git checkout py.git
fatal: not a git repository (or any of the parent directories): .git
xiaoyanMBP:branches yyy$ 

```

## 针对上面的情况的反思

其实我主要是卡在环境配置这块了。因为我对于命令行基本没用过。







## 其他


### Gitlab设置的独立探索

进入 Gitlab 之后发现需要设置一个 SSH 公钥(系统提示“在账号中 新建 SSH 公钥 之前将无法通过 SSH 拉取或推送代码。”)，那么SSH，怎么做呢？下面开始探索。

> 系统提示：

```
Add an SSH key
要添加一个 SSH 密钥, 您需要 生成一个 或使用一个 现有的 key。
Key
粘贴您的 SSH 公钥，通常包含在 '~/.ssh/id_rsa.pub' 文件中，并以 'ssh-rsa' 开头。不要使用您的 SSH 私钥。

```

参考[这里](https://gitlab.com/help/ssh/README#generating-a-new-ssh-key-pair)

![SSH生成](https://upload-images.jianshu.io/upload_images/3785456-4e1b05f7cc5cd6c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![添加到 gitlab 账户2](https://upload-images.jianshu.io/upload_images/3785456-aae2a62e003c1233.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image.png](https://upload-images.jianshu.io/upload_images/3785456-29ef0c546f89899c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image.png](https://upload-images.jianshu.io/upload_images/3785456-eab30639961d1be6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image.png](https://upload-images.jianshu.io/upload_images/3785456-d8b09686456e22fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image.png](https://upload-images.jianshu.io/upload_images/3785456-bb3b62639943322e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### TimeLog

- 20181226 XiaoYanWork initial

- 20181226 学习 SSH 密钥



## TimeLog

2018-12-01 傍晚，小焱创建。

- 书写“本节要求”用时30min。
- 



